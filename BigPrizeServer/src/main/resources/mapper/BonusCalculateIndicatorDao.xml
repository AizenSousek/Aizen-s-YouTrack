<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aizensousek.bigprize.dao.BonusCalculateIndicatorDao">

    <resultMap type="com.aizensousek.bigprize.entity.BonusCalculateIndicator" id="BonusCalculateIndicatorMap">
        <result property="id" column="id" jdbcType="VARCHAR"/>
        <result property="indiName" column="indi_name" jdbcType="VARCHAR"/>
        <result property="indiComment" column="indi_comment" jdbcType="VARCHAR"/>
        <result property="indiType" column="indi_type" jdbcType="VARCHAR"/>
        <result property="indiLadderId" column="indi_ladder_id" jdbcType="VARCHAR"/>
        <result property="indiCalculateStr" column="indi_calculate_str" jdbcType="VARCHAR"/>
        <result property="indiIf" column="indi_if" jdbcType="VARCHAR"/>
        <result property="modelId" column="model_id" jdbcType="VARCHAR"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryById" resultMap="BonusCalculateIndicatorMap">
        select id,
               indi_name,
               indi_comment,
               indi_type,
               indi_calculate_str,
               indi_if,
               model_id
        from bonus_calculate_indicator
        where id = #{id}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="BonusCalculateIndicatorMap">
        select
        id, indi_name, indi_comment, indi_type,  indi_calculate_str, indi_if, model_id
        from bonus_calculate_indicator
        <where>
            <if test="id != null and id != ''">
                and id = #{id}
            </if>
            <if test="indiName != null and indiName != ''">
                and indi_name = #{indiName}
            </if>
            <if test="indiComment != null and indiComment != ''">
                and indi_comment = #{indiComment}
            </if>
            <if test="indiType != null and indiType != ''">
                and indi_type = #{indiType}
            </if>
            <if test="indiLadderId != null and indiLadderId != ''">
                and indi_ladder_id = #{indiLadderId}
            </if>
            <if test="indiCalculateStr != null and indiCalculateStr != ''">
                and indi_calculate_str = #{indiCalculateStr}
            </if>
            <if test="indiIf != null and indiIf != ''">
                and indi_if = #{indiIf}
            </if>
            <if test="modelId != null and modelId != ''">
                and model_id = #{modelId}
            </if>
        </where>
        limit #{pageable.offset}, #{pageable.pageSize}
    </select>

    <!--统计总行数-->
    <select id="count" resultType="java.lang.Long">
        select count(1)
        from bonus_calculate_indicator
        <where>
            <if test="id != null and id != ''">
                and id = #{id}
            </if>
            <if test="indiName != null and indiName != ''">
                and indi_name = #{indiName}
            </if>
            <if test="indiComment != null and indiComment != ''">
                and indi_comment = #{indiComment}
            </if>
            <if test="indiType != null and indiType != ''">
                and indi_type = #{indiType}
            </if>
            <if test="indiLadderId != null and indiLadderId != ''">
                and indi_ladder_id = #{indiLadderId}
            </if>
            <if test="indiCalculateStr != null and indiCalculateStr != ''">
                and indi_calculate_str = #{indiCalculateStr}
            </if>
            <if test="indiIf != null and indiIf != ''">
                and indi_if = #{indiIf}
            </if>
            <if test="modelId != null and modelId != ''">
                and model_id = #{modelId}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="id" useGeneratedKeys="true">
        insert into bonus_calculate_indicator(id, indi_name, indi_comment, indi_type,  indi_calculate_str,
                                              indi_if, model_id)
        values (#{id}, #{indiName}, #{indiComment}, #{indiType},  #{indiCalculateStr}, #{indiIf}, #{modelId})
    </insert>

    <insert id="insertBatch" keyProperty="id" useGeneratedKeys="true">
        insert into bonus_calculate_indicator(id,indi_name, indi_comment, indi_type,  indi_calculate_str,
        indi_if, model_id)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{id},#{entity.indiName}, #{entity.indiComment}, #{entity.indiType},
            #{entity.indiCalculateStr}, #{entity.indiIf}, #{entity.modelId})
        </foreach>
    </insert>

    <insert id="insertOrUpdateBatch" keyProperty="id" useGeneratedKeys="true">
        insert into bonus_calculate_indicator(id, indi_name, indi_comment, indi_type,  indi_calculate_str,
        indi_if, model_id)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{id},#{entity.indiName}, #{entity.indiComment}, #{entity.indiType},
            #{entity.indiCalculateStr}, #{entity.indiIf}, #{entity.modelId})
        </foreach>
        on duplicate key update
        indi_name = values(indi_name),
        indi_comment = values(indi_comment),
        indi_type = values(indi_type),
        indi_calculate_str = values(indi_calculate_str),
        indi_if = values(indi_if),
        model_id = values(model_id)
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update bonus_calculate_indicator
        <set>
            <if test="indiName != null and indiName != ''">
                indi_name = #{indiName},
            </if>
            <if test="indiComment != null and indiComment != ''">
                indi_comment = #{indiComment},
            </if>
            <if test="indiType != null and indiType != ''">
                indi_type = #{indiType},
            </if>
            <if test="indiCalculateStr != null and indiCalculateStr != ''">
                indi_calculate_str = #{indiCalculateStr},
            </if>
            <if test="indiIf != null and indiIf != ''">
                indi_if = #{indiIf},
            </if>
            <if test="modelId != null and modelId != ''">
                model_id = #{modelId},
            </if>
        </set>
        where id = #{id}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete
        from bonus_calculate_indicator
        where id = #{id}
    </delete>

</mapper>